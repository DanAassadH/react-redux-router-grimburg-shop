(this["webpackJsonpmilestone-2"]=this["webpackJsonpmilestone-2"]||[]).push([[0],{31:function(e,t,a){},32:function(e,t,a){},40:function(e,t,a){e.exports=a(70)},49:function(e,t,a){},55:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),i=a(3),o=a(13),u="products/load",s=a(7),m="filtered-products/mage",d={filter:"warrior",sortby:"rarity",products:[]},p=function(e){return function(t){return t.role===e}},f=function(e){return"consumable"===e.category},E=function(e){return"artifact"===e.category},g=function(e,t){var a="";switch(e){case"warrior":a="filtered-products/warrior";break;case"mage":a=m;break;case"rogue":a="filtered-products/rogue";break;case"potions":a="filtered-products/potions";break;case"trinkets":a="filtered-products/trinkets";break;default:a=""}return{type:a,payload:t}},v="account/sign-in",b="account/sign-out",h=a(20);function N(e,t){var a=e.findIndex((function(e){return e.id===t.id})),n=e[a];return-1!==a?[].concat(Object(h.a)(e.slice(0,a)),[Object(s.a)(Object(s.a)({},t),{},{quantity:n.quantity+t.quantity})],Object(h.a)(e.slice(a+1))):[].concat(Object(h.a)(e),[t])}var y=function(e){return{type:"REMOVE_All",payload:e}},O=Object(o.b)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return t.payload;default:return e}},filteredProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"filtered-products/warrior":return Object(s.a)(Object(s.a)({},e),{},{filter:"warrior",products:t.payload.filter(p("warrior"))});case m:return Object(s.a)(Object(s.a)({},e),{},{filter:"mage",products:t.payload.filter(p("mage"))});case"filtered-products/rogue":return Object(s.a)(Object(s.a)({},e),{},{filter:"rogue",products:t.payload.filter(p("rogue"))});case"filtered-products/potions":return Object(s.a)(Object(s.a)({},e),{},{filter:"potions",products:t.payload.filter(f)});case"filtered-products/trinkets":return Object(s.a)(Object(s.a)({},e),{},{filter:"trinkets",products:t.payload.filter(E)});default:return e}},clans:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},member:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.payload;case b:return{};case"account/deduct-funds":return Object(s.a)(Object(s.a)({},e),{},{funds:e.funds-t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":return N(e,t.payload);case"REMOVE_All":if(t.payload){var a=e.filter((function(e){return e.id!==t.payload}));return a}return[];case"REMOVE_ONE":var n=e.map((function(e){return e.id===t.payload&&e.quantity>0&&e.quantity--,e}));return n;case"ADD_ONE":var r=e.map((function(e){return e.id===t.payload&&e.quantity++,e}));return r;default:return e}}}),_=function(e){return e.replace(/\W/g,"").replace(/[A-Z]/g,(function(e,t){return(0!==t?"-":"")+e.toLowerCase()}))},j=(a(49),a(8)),k=a(6),w=a(15),C=function(){var e=Object(i.c)((function(e){return e.member})),t=Object(k.f)();return Object(n.useEffect)((function(){e&&0!==Object.keys(e).length||t.push("/")}),[e,t]),null},A=a(9),D=(a(55),a(36)),S=a(37),T=function(){var e=Object(i.c)((function(e){return e.member})),t=Object(n.useState)(!1),a=Object(A.a)(t,2),c=a[0],l=a[1];return r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{className:"user-account dropdown__button",onClick:function(){return l(!0)}},r.a.createElement("img",{src:"/imgs/profiles/".concat(e.profileImg),alt:"User profile avatar"})),c&&r.a.createElement("div",{onClick:function(){return l(!1)},className:"dropdown__closer",tabIndex:"-1"}),c&&r.a.createElement("div",{className:"dropdown__menu"},r.a.createElement("p",null,e.member),r.a.createElement("p",null,e.clan),r.a.createElement("button",{onClick:function(){window.location.href="/"}},"Sign-out ",r.a.createElement(D.a,{icon:S.a}))))},P=(a(59),function(e){var t=Object(i.c)((function(e){return e.cart.length}));return r.a.createElement("div",{className:"cart-icon__container"},r.a.createElement(j.b,{to:"/checkout"},t>0&&r.a.createElement("div",{className:"cart-icon__quantity"},r.a.createElement("span",null,t)),r.a.createElement("img",{src:"/imgs/cart.svg",alt:"Shopping Cart"}),r.a.createElement("span",null,"Cart")))}),M=(a(60),function(){var e=Object(i.c)((function(e){return e.member.funds})),t=Object(i.c)((function(e){return e.cart})).reduce((function(e,t){return e+t.price*t.quantity}),0);return r.a.createElement("header",{className:"main-header container"},r.a.createElement("div",{className:"header-group"},r.a.createElement(P,null),r.a.createElement("div",{className:"total-credit"},r.a.createElement("img",{src:"/imgs/balance-icon.svg",alt:"Balance Icon"}),r.a.createElement("p",null,t))),r.a.createElement("h1",{className:"shop-sign"},r.a.createElement(j.b,{to:"/products"},r.a.createElement("img",{src:"/imgs/shop-logo.png",alt:"Grimburg's Shop of Armour & Potions"}))),r.a.createElement("div",{className:"header-group"},r.a.createElement("div",{className:"total-credit"},r.a.createElement("img",{src:"/imgs/gold.svg",alt:"Gold Icon"}),r.a.createElement("p",null,e)),r.a.createElement(T,null)))}),x=(a(61),function(e){var t=e.className||"";return r.a.createElement("div",{className:"masthead ".concat(t," container")},e.children)});a(62);var q=function(e){var t=e.filter||"",a=e.clicked,n=e.iconName||"",c=e.active&&"active";return r.a.createElement("div",{className:"product-filter-container ".concat(c),onClick:function(){a(t)}},r.a.createElement("svg",{className:"svg-filter-button",viewBox:"0 0 80 80",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{className:"out-circle",cx:"40",cy:"40",r:"38"}),r.a.createElement("circle",{className:"in-circle",cx:"40",cy:"40",r:"34"}),r.a.createElement("polygon",{className:"up-triangle",points:" 40,13 36,5 44,5 "}),r.a.createElement("polygon",{className:"up-triangle",points:" 40,67 36,75 44,75 "}),r.a.createElement("image",{href:"/imgs/filter-icons/".concat(n),x:"17",y:"17",height:"45px",width:"45px"})),r.a.createElement("p",{className:"filter-string"},t))},F=(a(31),function(e){var t=e.className||"",a=e.rarity,n="/imgs/products/".concat(e.path),c=e.name;return r.a.createElement("div",{className:"product__image ".concat(a.toLowerCase()," ").concat(t)},r.a.createElement("div",{className:"product__image-rarity"},r.a.createElement("p",null,a)),r.a.createElement("img",{src:n,alt:"".concat(c)}))}),I=(a(32),function(e){var t=e.product;return r.a.createElement("article",{className:"product-card"},r.a.createElement(j.b,{to:"/products/".concat(t.id)},r.a.createElement(F,{path:t.image,rarity:t.rarity,name:t.name}),r.a.createElement("div",{className:"item-name"},r.a.createElement("h2",null,t.name))))}),R=(a(63),function(){var e=Object(i.c)((function(e){return Object.values(e.products)})),t=e[16],a=e[24];return r.a.createElement("div",{className:"featured-items"},r.a.createElement("article",{className:"featured-item"},r.a.createElement(j.b,{to:"/products/".concat(t.id)},r.a.createElement(F,{className:"featured-item__img",path:t.image,rarity:t.rarity,name:t.name}),r.a.createElement("div",{className:"featured-item__description"},r.a.createElement("h2",null,t.name),r.a.createElement("p",null,t.description)))),r.a.createElement("article",{className:"featured-item"},r.a.createElement(j.b,{to:"/products/".concat(a.id)},r.a.createElement(F,{className:"featured-item__img",path:a.image,rarity:a.rarity,name:a.name}),r.a.createElement("div",{className:"featured-item__description"},r.a.createElement("h2",null,a.name),r.a.createElement("p",null,a.description)))))}),V=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return Object.values(e.products)})),a=Object(i.c)((function(e){return e.filteredProducts.products})),c=Object(i.c)((function(e){return e.filteredProducts.filter})),l=function(a){e(g(a,t))};return Object(n.useEffect)((function(){0===a.length&&e(g("warrior",t))}),[e,a.length,t]),r.a.createElement("main",{className:"products container"},r.a.createElement("h1",null,"Featured Items"),r.a.createElement(R,null),r.a.createElement("div",{className:"product-filters"},[{filter:"warrior",icon:"helmet1.svg"},{filter:"mage",icon:"witch-hat.svg"},{filter:"rogue",icon:"dagger.svg"},{filter:"trinkets",icon:"ring.svg"},{filter:"potions",icon:"poison.svg"}].map((function(e){var t=e.filter,a=e.icon;return r.a.createElement(q,{key:t,filter:t,clicked:l,iconName:a,active:t===c})}))),r.a.createElement("div",{className:"product-list"},a.map((function(e,t){return r.a.createElement(I,{product:e,key:t})}))))},K=(a(64),a(65),function(e){if(!e.stats||0===e.stats.length)return null;var t=e.className||"",a=Object.entries(e.stats).filter((function(e){var t=Object(A.a)(e,2);t[0];return 0!==t[1]})),n={HP:"heart.svg",MP:"magic.svg",ATK:"attack.svg",DEF:"defense.svg",MATK:"magic-attack.svg",MDEF:"magic-defense.svg",SPD:"speed.svg",EVA:"evasion.svg",ACC:"accuracy.svg",CRT:"critical.svg"},c={HP:"Health Points (HP)",MP:"Magic Points (MP)",ATK:"Attack (ATK)",DEF:"Defense (DEF)",MATK:"Magic Attack (MATK)",MDEF:"Magic Defense (MDEF)",SPD:"Speed (SPD)",EVA:"Evasion (EVA)",ACC:"Accuracy (ACC)",CRT:"Critical (CRT)"},l={HP:"stat-hp",MP:"stat-mp",ATK:"stat-atk",DEF:"stat-def",MATK:"stat-matk",MDEF:"stat-mdef",SPD:"stat-spd",EVA:"stat-eva",ACC:"stat-acc",CRT:"stat-crt"};return r.a.createElement("div",{className:"product-stats ".concat(t)},r.a.createElement("h3",null,"Stats"),a.map((function(e,t){var a=Object(A.a)(e,2),i=a[0],o=a[1];return r.a.createElement("div",{key:t,className:"".concat(l[i]," product-stat")},r.a.createElement("p",{className:"product-stat__name"},r.a.createElement("img",{src:"/imgs/stat-icons/".concat(n[i]),alt:"Stat icon"}),c[i]),r.a.createElement("div",{className:"full-bar"},r.a.createElement("span",{className:"stat-bar-filled",style:{width:"".concat(o,"%")}},o)))})))}),G=function(e){var t=e.className||"",a=Array.isArray(e.description)?e.description:[e.description];return e.description&&""!==e.description?r.a.createElement("div",{className:"product__description ".concat(t)},r.a.createElement("h3",null,"Description"),a.map((function(e,t){return r.a.createElement("p",{key:t},e)}))):null},H=function(e){var t=e.className||"",a=Array.isArray(e.effect)?e.effect:[e.effect];return e.effect&&""!==e.effect?r.a.createElement("div",{className:"product__effect ".concat(t)},r.a.createElement("h3",null,"Effect"),a.map((function(e,t){return r.a.createElement("p",{key:t},e)}))):null},Y=(a(66),function(e){var t=e.product.price,a=Object(i.b)(),c=Object(k.f)(),l=Object(w.useToasts)().addToast,o=Object(n.useState)(1),u=Object(A.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(t),p=Object(A.a)(d,2),f=p[0],E=p[1],g=Object(i.c)((function(e){return e.member.funds})),v=Object(i.c)((function(e){return e.cart})),b=function(e){var a=0,n=0;switch(e){case"+":0!==s&&(n=(a=s+1)*t);break;case"-":n=1!==s?(a=s-1)*t:(a=s)*t}m(a),E(n)};return r.a.createElement("div",{className:"add-cart"},r.a.createElement("div",{className:"add-cart__counter"},r.a.createElement("button",{className:"add-cart__counter--downtick",onClick:function(){return b("-")}}," - "),r.a.createElement("p",null,s),r.a.createElement("button",{className:"add-cart__counter--uptick",onClick:function(){return b("+")}}," + ")),r.a.createElement("div",{className:"add-cart__price"},r.a.createElement("img",{src:"/imgs/gold.svg",alt:"Gold Coins"}),r.a.createElement("p",null,f)),r.a.createElement("button",{className:"add-cart__button",onClick:function(){return function(){if(v.reduce((function(e,t){return e+t.price*t.quantity}),0)+e.product.price*s<=g){var t={id:e.product.id,rarity:e.product.rarity,price:e.product.price,name:e.product.name,image:e.product.image,quantity:s};a({type:"ADD",payload:t}),c.push("/products")}else l("Not enough funds to purchase this item",{appearance:"error",autoDismiss:!0})}()}},r.a.createElement("img",{src:"/imgs/cart.svg",alt:"Shopping Cart"}),"ADD TO CART"))}),J=function(){var e=Object(k.h)().id,t=Object(i.c)((function(t){return t.products[e]}));return r.a.createElement("main",{className:"product-detail container"},r.a.createElement("div",{className:"product-image-container"},r.a.createElement(F,{rarity:t.rarity,path:t.image})),r.a.createElement("header",null,r.a.createElement("h2",{className:"product__name"},t.name),r.a.createElement("p",{className:"product__role"},t.role)),r.a.createElement(Y,{product:t}),r.a.createElement("div",{className:"product__quote"},r.a.createElement("p",null,t.quote)),r.a.createElement("div",{className:"flex-row"},r.a.createElement(G,{className:"w-50",description:t.description}),r.a.createElement("div",{className:"w-50"},r.a.createElement(H,{effect:t.effect}),r.a.createElement(K,{stats:t.stats}))))},L=function(e){return(e=e||"").replace(/\W/g,"").toLowerCase()},B=(a(67),function(e){var t=Object(i.b)(),a=Object(n.useState)(""),c=Object(A.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(""),m=Object(A.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(""),E=Object(A.a)(f,2),g=E[0],b=E[1],h=Object(n.useState)(""),N=Object(A.a)(h,2),y=N[0],O=N[1],_=["Clan members only...","You on the list?","No mask, no flask","You got the coin?","Beat it Tombdweller","Get lost Sapblood","Keep on walking halfling","Take a hike Ankle-biter"],j=_[Math.floor(Math.random()*_.length)],k=Object(i.c)((function(e){return e.clans}));function w(e){return e=L(e)||"",k.find((function(t){return L(t.clan)===e}))}var C=function(e,t){return t=L(t)||"",e.members.find((function(e){return L(e.member)===t}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"container signin__header"},r.a.createElement("h1",null,r.a.createElement("img",{src:"/imgs/shop-logo.png",alt:"Grimburg's Armour & Potions"}))),r.a.createElement("main",{className:"container signin__main"},r.a.createElement("form",{className:"signin__form",onSubmit:function(a){a.preventDefault(),b(""),O("");var n=function(){var e=!0;return""===d.trim()&&(e=!1,O("What clan are you from?")),""===l.trim()&&(e=!1,b("What's your name?")),e}(),r=function(){var e=w(d),t=!0;if(e){var a=C(e,l);a&&null!==a.member?t=!0:(t=!1,b("You're name is not in the list. Scram!"))}else t=!1,O("Never heard of that clan before...");return t}();if(n&&r){var c=function(e,t){var a=w(e),n=C(a,t);return Object(s.a)({clanId:a.clanId,clan:a.clan},n)}(d,l);t(function(e){return{type:v,payload:e}}(c)),e.history.push("/products")}}},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"clan-name"}),r.a.createElement("input",{type:"text",id:"clan-name",autoComplete:"off",placeholder:"Clan Name",onChange:function(e){p(e.target.value)}}),r.a.createElement("p",{className:"show-error-message"},y)),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"user-name"}),r.a.createElement("input",{type:"text",id:"user-name",autoComplete:"off",placeholder:"Your Name",autoFocus:!0,onChange:function(e){o(e.target.value)}}),r.a.createElement("p",{className:"show-error-message"},g)),r.a.createElement("input",{type:"submit",value:"Enter Shop"})),r.a.createElement("div",{className:"signin__guard"},r.a.createElement("div",{className:"signin__guard-container"},r.a.createElement("img",{src:"/imgs/signin-boss.png",alt:"A large orc figure guards the shop entrance."})),r.a.createElement("p",{className:"bubble bubble-bottom-left"},j))))}),U=a(38),W=(a(68),function(){var e=Object(i.b)(),t=Object(k.f)(),a=Object(w.useToasts)().addToast,c=Object(i.c)((function(e){return Object.values(e.cart)})),l=Object(i.c)((function(e){return e.member.funds})),o=Object(n.useState)(""),u=Object(A.a)(o,2),s=u[0],m=u[1],d=function(){var e,t=0,a=Object(U.a)(c);try{for(a.s();!(e=a.n()).done;){var n=e.value;t+=n.price*n.quantity}}catch(r){a.e(r)}finally{a.f()}return t};function p(t){d()+function(e){var t=c.find((function(t){return t.id===e}));return t?t.price:0}(t)<l?e(function(e){return{type:"ADD_ONE",payload:e}}(t)):m("You Do Not Have Enough Gold")}return 0===c.length?r.a.createElement("main",{className:"checkout-page container"},r.a.createElement("p",{className:"checkout-page__empty"},"Your cart is empty, go back to the shop to continue shopping!")):r.a.createElement("main",{className:"checkout-page container"},r.a.createElement("h2",null,"Order Summary"),r.a.createElement("ul",null,c.map((function(t){return r.a.createElement("li",{key:t.id,className:"cart-item"},r.a.createElement(F,{className:"cart-item__img",rarity:t.rarity,path:t.image,name:t.name}),r.a.createElement("p",{className:"cart-item__name"},t.name),r.a.createElement("div",{className:"cart-item__controls"},r.a.createElement("div",null,"Unit Price: ",t.price),r.a.createElement("div",null,r.a.createElement("div",{className:"add-cart__counter"},r.a.createElement("button",{className:"add-cart__counter--downtick",onClick:function(){return a=t.id,m(""),void e(function(e){return{type:"REMOVE_ONE",payload:e}}(a));var a}},"-"),r.a.createElement("p",null,t.quantity),r.a.createElement("button",{className:"add-cart__counter--uptick",onClick:function(){return p(t.id)}},"+"))),r.a.createElement("input",{className:"add-cart__remove-button",type:"button",value:"Remove Item",onClick:function(){return a=t.id,m(""),void e(y(a));var a}})))}))),r.a.createElement("p",{id:"no-gold"},s),r.a.createElement("ul",{id:"sub-total",className:"add-cart__subtotal"},r.a.createElement("li",null,"Total:"),r.a.createElement("li",null,r.a.createElement("input",{type:"text",value:"".concat(d()," g"),readOnly:!0}))),r.a.createElement("input",{type:"submit",value:"Checkout",onClick:function(n){n.preventDefault();var r=d();r>l?m("You Do Not Have Enough Gold"):(e({type:"account/deduct-funds",payload:r}),e(y()),a("Thank you for your purchase!",{appearance:"success",autoDismiss:!0}),t.push("/products"))}}))}),X=(a(69),function(){return r.a.createElement("nav",{className:"shop-nav"},r.a.createElement(j.b,{to:"/products"},r.a.createElement("div",{className:"arrow-container"},r.a.createElement("p",null,r.a.createElement("i",{className:"arrow left"}),"Shop"))))});function Z(){var e=Object(k.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var z=function(){return r.a.createElement(j.a,null,r.a.createElement(Z,null),r.a.createElement(k.c,null,r.a.createElement(w.ToastProvider,{placement:"top-right"},r.a.createElement(k.a,{exact:!0,path:"/",component:B}),r.a.createElement(k.a,{exact:!0,path:"/products"},r.a.createElement(C,null),r.a.createElement(M,null),r.a.createElement(x,{className:"masthead-products"}),r.a.createElement(V,null)),r.a.createElement(k.a,{path:"/products/:id"},r.a.createElement(C,null),r.a.createElement(M,null),r.a.createElement(x,{className:"masthead-product"},r.a.createElement(X,null)),r.a.createElement(J,null)),r.a.createElement(k.a,{path:"/checkout"},r.a.createElement(C,null),r.a.createElement(M,null),r.a.createElement(x,{className:"masthead-cart"},r.a.createElement(X,null)),r.a.createElement(W,null)))))};(function(){var e=fetch("/data/equipment.json").then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})),t=fetch("/data/utilities.json").then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})),a=fetch("/data/clans.json").then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})),n=function(e,t){return t.reduce((function(e,t){var a=_(t.name);return t.id=a,e[a]=t,e}),e)};return Promise.all([e,t,a]).then((function(e){var t={};return t=n(t,e[0]),t=n(t,e[1]),{clans:e[2].map((function(e){return e.clanId=_(e.clan),e})),products:t}})).then((function(e){return Object(o.c)(O,e,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}))})().then((function(e){var t=e;l.a.render(r.a.createElement(i.a,{store:t},r.a.createElement(z,null)),document.getElementById("root"))}))}},[[40,1,2]]]);
//# sourceMappingURL=main.40608ef3.chunk.js.map